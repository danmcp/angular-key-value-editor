!function(){"use strict";angular.module("key-value-editor",["as.sortable"])}(),function(){"use strict";angular.module("key-value-editor").directive("keyValueEditor",["$compile","$log","$templateCache","$timeout","$window","keyValueEditorConfig","keyValueEditorUtils",function(e,o,a,r,l,t,n){var i=n.first,u=n.contains,c=n.each,d=1e3,s=function(){return{name:"",value:""}},y=function(e,o){e&&e.push(o||s())},v=function(e,o){r(function(){var a=i(l.document.querySelectorAll(e));a&&(a.focus(),a.value="",a.value=o)})};return{restrict:"AE",scope:{keyMinlength:"@",keyMaxlength:"@",valueMinlength:"@",valueMaxlength:"@",entries:"=",keyPlaceholder:"@",valuePlaceholder:"@",keyValidator:"@",keyValidatorRegex:"=",valueValidator:"@",valueValidatorRegex:"=",keyValidatorError:"@",keyValidatorErrorTooltip:"@",keyValidatorErrorTooltipIcon:"@",keyIconTooltip:"@",valueValidatorError:"@",valueValidatorErrorTooltip:"@",valueValidatorErrorTooltipIcon:"@",valueIconTooltip:"@",cannotAdd:"=?",cannotSort:"=?",cannotDelete:"=?",isReadonly:"=?",isReadonlyKeys:"=?"},link:function(o,l,n){var i,u=a.get("key-value-editor.html");o.validation={key:o.keyValidator,val:o.valueValidator},n.keyValidatorRegex&&(o.validation.key=o.keyValidatorRegex),n.valueValidatorRegex&&(o.validation.val=o.valueValidatorRegex),"grabFocus"in n&&(o.grabFocus=!0,r(function(){o.grabFocus=void 0})),"cannotAdd"in n&&(o.cannotAdd=!0),"cannotDelete"in n&&(o.cannotDeleteAny=!0),"isReadonly"in n&&(o.isReadonlyAny=!0),"isReadonlyKeys"in n&&(i=o.$watch("entries",function(e){e&&(c(o.entries,function(e){e.isReadonlyKey=!0}),i())})),"cannotSort"in n&&(u=u.replace(/as-sortable/g,"as-sortable-DISABLED"),o.cannotSort=!0),o.keyMinlength=t.keyMinlength||n.keyMinlength,o.keyMaxlength=t.keyMaxlength||n.keyMaxlength,o.valueMinlength=t.valueMinlength||n.valueMinlength,o.valueMaxlength=t.valueMaxlength||n.valueMaxlength,o.keyValidator=t.keyValidator||n.keyValidator,o.valueValidator=t.valueValidator||n.valueValidator,o.keyValidatorError=t.keyValidatorError||n.keyValidatorError,o.valueValidatorError=t.valueValidatorError||n.valueValidatorError,o.keyValidatorErrorTooltip=t.keyValidatorErrorTooltip||n.keyValidatorErrorTooltip,o.keyValidatorErrorTooltipIcon=t.keyValidatorErrorTooltipIcon||n.keyValidatorErrorTooltipIcon,o.valueValidatorErrorTooltip=t.valueValidatorErrorTooltip||n.valueValidatorErrorTooltip,o.valueValidatorErrorTooltipIcon=t.valueValidatorErrorTooltipIcon||n.valueValidatorErrorTooltipIcon,o.secretValueTooltip=t.secretValueTooltip||n.secretValueTooltip,o.secretValueIcon=t.secretValueIcon||n.secretValueIcon,o.keyPlaceholder=t.keyPlaceholder||n.keyPlaceholder,o.valuePlaceholder=t.valuePlaceholder||n.valuePlaceholder,l.append(e(u)(o))},controller:["$scope","$timeout",function(e){e.forms={},e.placeholder=s();var o=[],a=[],r="key-value-editor-set-focus-"+d++;e.setFocusKeyClass=r+"-key",e.setFocusValClass=r+"-val",e.onKeyChange=function(){y(e.entries,{name:e.placeholder.name,value:e.placeholder.value}),v("."+e.setFocusKeyClass,e.placeholder.name),e.placeholder=s()},e.onValChange=function(){y(e.entries,{name:e.placeholder.name,value:e.placeholder.value}),v("."+e.setFocusValClass,e.placeholder.value),e.placeholder=s()},e.deleteEntry=function(o,a){e.entries.splice(o,a),e.forms.keyValueEditor.$setDirty()},e.dragControlListeners={accept:function(e,o){return e.itemScope.sortableScope.$id===o.$id},orderChanged:function(){e.forms.keyValueEditor.$setDirty()}},e.$watch("cannotDelete",function(o){angular.isArray(o)&&(e.cannotDeleteAny=!1,a=o)}),e.$watch("isReadonly",function(a){angular.isArray(a)&&(e.isReadonlyAny=!1,o=a)}),e.isReadonlySome=function(e){return u(o,e)},e.cannotDeleteSome=function(e){return u(a,e)}}]}}])}(),function(){"use strict";angular.module("key-value-editor").provider("keyValueEditorConfig",[function(){var e={keyMinlength:"",keyMaxlength:"",valueMinlength:"",valueMaxlength:"",keyValidator:"[a-zA-Z0-9-_]+",valueValidator:"",keyValidatorError:void 0,keyValidatorErrorTooltip:void 0,keyValidatorErrorTooltipIcon:"pficon pficon-help",valueValidatorError:void 0,valueValidatorErrorTooltip:void 0,valueValidatorErrorTooltipIcon:"pficon pficon-help",secretValueTooltip:void 0,secretValueIcon:"fa fa-user-secret",keyPlaceholder:"",valuePlaceholder:""};this.set=function(o,a){angular.isObject(o)?angular.extend(e,o):e[o]=a},this.$get=[function(){return e}]}])}(),function(){"use strict";angular.module("key-value-editor").factory("keyValueEditorUtils",[function(){var e=function(e,o,a){for(var r=e&&e.length||0,l=0;r>l;l++)a=o(a,e[l],l,e);return a},o=function(e,o){for(var a=e&&e.length||0,r=0;a>r;r++)o(e[r],r,e)},a=function(e,o){for(var a=e&&e.length||0,r=[],l=0;a>l;l++)r.push(o(e[l],l,e));return r},r=function(o){return e(o,function(e,o){return o&&e.push(o),e},[])},l=function(e,o){return-1!==e.indexOf(o)},t=function(e){return e&&e[e.length-1]},n=function(e){return e&&e[0]},i=function(e,o){return e&&e[o]},u=["valueAlt","isReadOnly","isReadonlyKey","cannotDelete","keyValidator","valueValidator","keyValidatorError","valueValidatorError","keyIcon","keyIconTooltip","valueIcon","valueIconTooltip","keyValidatorErrorTooltip","keyValidatorErrorTooltipIcon","valueValidatorErrorTooltip","valueValidatorErrorTooltipIcon"],c=function(e){return o(u,function(o){delete e[o]}),e},d=function(e){return a(e,c)},s=function(e){return r(a(e,function(e){return e=c(e),e.name||e.value?e:void 0}))},y=function(o){return e(s(o),function(e,o){return e[o.name]=o.value,e},{})};return{each:o,reduce:e,compact:r,contains:l,first:n,last:t,get:i,cleanEntry:c,cleanEntries:d,compactEntries:s,mapEntries:y}}])}();